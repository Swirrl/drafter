@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix graph: <http://publishmydata.com/graphs/drafter/draft> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix drafter: <http://publishmydata.com/def/drafter/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix draft: <http://publishmydata.com/graphs/drafter/draft> .
@prefix draftset: <http://publishmydata.com/def/drafter/draftset/> .

## State is:
#
# - 1 Public graph "a"
#
# - 1 draftset 8d1e with 2 draft graphs in it.  One draftgraph in it
#   is of the live graph "a".  The other is for an upublished graph "b".
# 
# This should give us the following state combinations we need for
# testing stasher:
# 
# - live only query (unionwithlive irrelevant)
# - draftset only query (unionwithlive false)
# - live+draftset (unionwithlive true) 

<http://publishmydata.com/graphs/drafter/drafts> {

	########################################################################
	# Live graphs
	########################################################################

	# Live graph with two changes in 2 draftsets
	<http://a> a drafter:ManagedGraph ;
		dcterms:modified "2017-11-16T12:47:28.595Z"^^xsd:dateTime ;
		drafter:isPublic "true"^^xsd:boolean ;
		dcterms:issued "2017-11-16T12:45:12.923Z"^^xsd:dateTime .

	# a graph not in a draftset
	<http://live-only> a drafter:ManagedGraph ;
		dcterms:modified "2017-11-16T13:30:23.515Z"^^xsd:dateTime ;
		drafter:isPublic "true"^^xsd:boolean ;
		dcterms:issued "2017-11-16T13:30:23.515Z"^^xsd:dateTime .

	########################################################################
	# The first draftset with two draftgraphs in it.
	# Changes on <http://a> and unpublished graph <http://b>
	########################################################################
	draftset:8d1e0e67-54c2-432e-bec1-a164c3dff94d a drafter:DraftSet ;
		dcterms:created "2017-11-16T13:02:34.589Z"^^xsd:dateTime ;
		dcterms:modified "2017-11-16T13:02:34.589Z"^^xsd:dateTime ;
		dcterms:creator <mailto:manager@swirrl.com> ;
		drafter:hasOwner <mailto:manager@swirrl.com> .

        # unpublished graph
	<http://b> a drafter:ManagedGraph ;
		drafter:isPublic "false"^^xsd:boolean ;
		drafter:hasDraft draft:2c2a5871-3a53-4ad0-9c7e-64c9201f9238 .

	draft:2c2a5871-3a53-4ad0-9c7e-64c9201f9238 a drafter:DraftGraph ;
		dcterms:created "2017-11-16T13:02:54.342Z"^^xsd:dateTime ;
		dcterms:modified "2017-11-16T13:02:54.312Z"^^xsd:dateTime ;
		drafter:inDraftSet draftset:8d1e0e67-54c2-432e-bec1-a164c3dff94d .

	draft:15670481-f6a1-4255-8feb-13c0e673c94d a drafter:DraftGraph ;
		dcterms:created "2017-11-16T13:22:47.932Z"^^xsd:dateTime ;
		dcterms:modified "2017-11-16T13:22:47.925Z"^^xsd:dateTime ;
		drafter:inDraftSet draftset:8d1e0e67-54c2-432e-bec1-a164c3dff94d .


	########################################################################
	# The second draftset, with a single change on <http://a>	
	########################################################################
	draftset:b2a7651f-c7ff-46cd-9eb3-e3fc71d58be4 a drafter:DraftSet ;
		dcterms:created "2017-11-16T15:13:46.901Z"^^xsd:dateTime ;
		dcterms:modified "2017-11-16T15:13:46.901Z"^^xsd:dateTime ;
		dcterms:creator <mailto:editor@swirrl.com> ;
		drafter:hasOwner <mailto:editor@swirrl.com> .
	
	draft:ff52ee2f-52d5-4a60-9624-c0fe2b3068b0 a drafter:DraftGraph ;
		dcterms:created "2017-11-16T15:14:36.062Z"^^xsd:dateTime ;
		dcterms:modified "2017-11-16T15:14:36.054Z"^^xsd:dateTime ;
		drafter:inDraftSet draftset:b2a7651f-c7ff-46cd-9eb3-e3fc71d58be4 .


}

<http://a> {
	<http://a> <http://a> <http://a> .
}

<http://live-only> {
	<http://live-only> <http://live-only> <http://live-only> .   
}

# the new un published draft in draftset 8d1e
draft:2c2a5871-3a53-4ad0-9c7e-64c9201f9238 {
	<http://b> <http://b> <http://b> .  
}

# a draft modification to graph "a" in draftset 8d1e
draft:15670481-f6a1-4255-8feb-13c0e673c94d {
	<http://a> <http://a> <http://a> .
	<http://a2> <http://a2> <http://a2> . # a drafted addition of a2 to graph a
}
 
draft:ff52ee2f-52d5-4a60-9624-c0fe2b3068b0 {
	<http://a> <http://a> <http://a> .
	<http://ds-2> <http://ds-2> <http://ds-2> .
}
