* Getting started

Not developing drafter itself then just grab a recent build from
[[https://build.publishmydata.com/view/Grafter%2520master/job/drafter/][Jenkins]].

* Developing Drafter

1. clone this project
2. [[http://leiningen.org/#install][Install leiningen]]
3. cd into the project directory =cd drafter=

** Testing 


1. To run the unit tests you must currently have a database called
   =drafter-test-db= created and ready.  You can create this with the
   command: =stardog-admin db create -n drafter-test-db=
2. You should enable stardog ICV constraints on this database by
   running the command =./bin/enforce-drafter-constraints.sh
   drafter-test-db= This ensures the database is never inconsistent
   with regards to the rules defined in =resources/drafter/state-graph-constraints.ttl=

3. To run these tests from the console run the command:

=$ lein test=

** Local Development

1. You should also create a database for local
   development. =stardog-admin db create drafter-dev-db=
2. Again you should consider adding constraints to this database:

   =./bin/enforce-drafter-constraints.sh drafter-dev-db=


2. =lein repl=
3. =(dev)= to load dev namespace
4. =(start-system!)= To start the drafter service on the configured port.

To run the tests from the console:
To build:

=$ lein uberjar=

To run a built drafter server (without leiningen or a repl) on port 3001:

=$ java -jar target/drafter-0.1.0-SNAPSHOT-standalone.jar=
